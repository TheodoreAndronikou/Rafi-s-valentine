<!DOCTYPE html>
<html lang="el">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
    <title>Will you be my Valentine?ğŸ’•</title>

<style>

    * { margin: 0; padding: 0; box-sizing: border-box; -webkit-tap-highlight-color: transparent; }
    html { -webkit-text-size-adjust: 100%; }
    :root{
        --primary-pink:#ff69b4;
        --secondary-pink:#ffb6c1;
        --dark-pink:#ff1493;
        --bg-gradient: linear-gradient(180deg,#fff0f7 0%,#ffd6eb 100%);
        --safe-area-top: env(safe-area-inset-top, 0px);
        --safe-area-bottom: env(safe-area-inset-bottom, 0px);
    }

    body{
        font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,Oxygen,Ubuntu,Cantarell,sans-serif;
        background:var(--bg-gradient);
        min-height: 100svh;
        display:flex;
        align-items:center;
        justify-content:center;
        padding: calc(18px + var(--safe-area-top)) 14px calc(20px + var(--safe-area-bottom)) 14px;
        overflow-x:hidden;
        position:relative;
        font-size: 18px;
    }

    /* Floating hearts background */
    .floating-hearts{
        position:fixed; inset:0;
        pointer-events:none;
        z-index:0; overflow:hidden;
    }
    .heart-bg{
        position:absolute;
        font-size:22px;
        opacity:0.16;
        animation: float-up 15s infinite ease-in-out;
    }
    @keyframes float-up{
        0%{ transform:translateY(100vh) rotate(0deg); opacity:0; }
        10%{ opacity:0.16; }
        90%{ opacity:0.16; }
        100%{ transform:translateY(-120px) rotate(360deg); opacity:0; }
    }

    /* âœ… MOBILE-FIRST layout: full width */
    .container{
        width: 100%;
        max-width: 520px;   /* Î±ÏÎºÎµÏ„Î¬ Î¼ÎµÎ³Î¬Î»Î¿ Î³Î¹Î± Î¼ÎµÎ³Î¬Î»Î± ÎºÎ¹Î½Î·Ï„Î¬ */
        text-align:center;
        position:relative;
        z-index:1;
        animation: fadeIn 0.8s ease-out;
    }
    @keyframes fadeIn{ from{opacity:0; transform:translateY(18px);} to{opacity:1; transform:translateY(0);} }

    h1{
        font-size: clamp(44px, 9.2vw, 64px);  /* Î ÎŸÎ›Î¥ Î¼ÎµÎ³Î±Î»ÏÏ„ÎµÏÎ¿ */
        line-height: 1.05;
        color: var(--dark-pink);
        margin-bottom: 14px;
        text-shadow: 2px 2px 6px rgba(255,105,180,0.25);
        animation: heartbeat 1.5s ease-in-out infinite;
        padding: 0 6px;
    }
    @keyframes heartbeat{
        0%,100%{transform:scale(1);}
        10%,30%{transform:scale(1.045);}
        20%,40%{transform:scale(1);}
    }

    .photo-container{
        width: 92vw;          /* âœ… Î³ÎµÎ¼Î¯Î¶ÎµÎ¹ Ï„Î¿ ÎºÎ¹Î½Î·Ï„ÏŒ */
        max-width: 520px;     /* Î±Î»Î»Î¬ Î´ÎµÎ½ â€œÏƒÏ€Î¬ÎµÎ¹â€ ÏƒÎµ tablet */
        margin: 0 auto 14px;
        border-radius: 26px;
        overflow:hidden;
        box-shadow: 0 18px 55px rgba(255,105,180,0.32);
    }
    .photo-container img{
        width:100%;
        height:auto;
        display:block;
    }

    .message{
        font-size: clamp(22px, 5.4vw, 30px);  /* âœ… Ï€Î¹Î¿ Î­Î½Ï„Î¿Î½Î¿ */
        color: var(--dark-pink);
        margin: 10px 0 18px;
        min-height: 46px;
        font-weight: 800;
        padding: 0 10px;
    }
    .message.shake{ animation: shake 0.5s ease; }
    @keyframes shake{
        0%,100%{transform:translateX(0);}
        25%{transform:translateX(-10px);}
        75%{transform:translateX(10px);}
    }

    /* âœ… Buttons: full-width stack */
    .buttons-container{
        display:flex;
        flex-direction: column;
        gap: 16px;
        justify-content:center;
        align-items:center;
        position:relative;
        min-height: 170px;  /* Ï‡ÏÏÎ¿ Î³Î¹Î± Ï„Î¿ No ÏŒÏ„Î±Î½ Î¾ÎµÏ†ÏÎ³ÎµÎ¹ */
        margin-bottom: 10px;
        width: 100%;
    }

    .btn{
        width: 92vw;           /* âœ… full width feeling */
        max-width: 520px;
        font-size: clamp(26px, 6.2vw, 34px);
        font-weight: 900;
        padding: 20px 18px;
        border:none;
        border-radius: 999px;
        cursor:pointer;
        box-shadow: 0 16px 44px rgba(0,0,0,0.14);
        min-height: 72px;      /* âœ… Î¼ÎµÎ³Î¬Î»Î¿ tap target */
        touch-action: manipulation;
        user-select:none;
        letter-spacing: 0.3px;
    }

    .btn-yes{
        background: linear-gradient(135deg, var(--primary-pink), var(--dark-pink));
        color:white;
        animation: pulse 2s ease-in-out infinite;
        box-shadow: 0 18px 52px rgba(255,20,147,0.40);
    }
    @keyframes pulse{
        0%,100%{ transform:scale(1); }
        50%{ transform:scale(1.04); }
    }
    .btn-yes:active{ transform: scale(0.97); }

    /* No button starts normal (stacked) */
    .btn-no{
        background:white;
        color: var(--dark-pink);
        border: 3px solid var(--secondary-pink);
        position:relative; /* JS Ï„Î¿ ÎºÎ¬Î½ÎµÎ¹ absolute Î¼ÎµÏ„Î¬ Ï„Î¿ 1Î¿ click */
        transition: transform 0.18s ease, background 0.18s ease, border-color 0.18s ease, left 0s, top 0s;
    }
    .btn-no:active{ transform: scale(0.97); }

    /* Sparkle */
    .sparkle{
        position:fixed;
        pointer-events:none;
        font-size:24px;
        z-index:1000;
        animation: sparkle-float 1s ease-out forwards;
    }
    @keyframes sparkle-float{
        0%{ opacity:1; transform: translateY(0) scale(0); }
        50%{ transform: translateY(-32px) scale(1); }
        100%{ opacity:0; transform: translateY(-64px) scale(0.5); }
    }

    /* Audio button: bigger + obvious */
    .audio-controls{
        position: fixed;
        top: calc(12px + var(--safe-area-top));
        right: 12px;
        z-index: 100;
    }
    .audio-btn{
        background: white;
        border: 3px solid var(--secondary-pink);
        border-radius: 999px;
        width: 84px;
        height: 84px;
        display:flex;
        align-items:center;
        justify-content:center;
        font-size: 38px;
        box-shadow: 0 18px 40px rgba(0,0,0,0.18);
    }
    .audio-btn.is-on{
        border-color: var(--dark-pink);
        box-shadow: 0 18px 42px rgba(255,20,147,0.25);
    }

    /* Celebration */
    .celebration-overlay{
        position:fixed; inset:0;
        background: rgba(255,255,255,0.95);
        display:none;
        flex-direction:column;
        align-items:center;
        justify-content:center;
        z-index:1000;
        padding: 18px;
    }
    .celebration-overlay.active{ display:flex; }
    .celebration-message{
        font-size: clamp(48px, 10vw, 72px);
        color: var(--dark-pink);
        margin-bottom: 14px;
        text-align:center;
        font-weight: 900;
    }

    /* Confetti canvas */
    #confettiCanvas{
        position:fixed; inset:0;
        width:100%;
        height:100%;
        pointer-events:none;
        z-index:999;
    }

    /* Optional: make it nicer on tablets/desktop */
    @media (min-width: 900px){
        body{ padding-left: 24px; padding-right: 24px; }
        .buttons-container{ flex-direction: row; min-height: 150px; }
        .btn{ width: auto; min-width: 220px; }
        .photo-container{ width: 520px; }
    }


</style>
</head>

<body>
<div class="floating-hearts" id="floatingHearts"></div>

<div class="audio-controls">
    <button class="audio-btn" id="audioBtn" aria-label="Start music">ğŸµ</button>
</div>
<div class="audio-hint" id="audioHint">Î ÎµÏÎ¯Î¼ÎµÎ½Îµ! Î Î¬Ï„Î± Ï€ÏÏÏ„Î± ÎµÎ´Ï! ğŸ¶</div>

<div class="container">
    <h1>Will you be my Valentine? ğŸ’•</h1>

    <div class="photo-container" id="photoContainer">
        <img id="mainPhoto"
             src="assets/zentangle.jpg"
             alt="Valentine photo"
             onerror="this.src='data:image/svg+xml,%3Csvg xmlns=%22http://www.w3.org/2000/svg%22 width=%22400%22 height=%22400%22%3E%3Crect fill=%22%23ffe0f0%22 width=%22400%22 height=%22400%22/%3E%3Ctext x=%2250%25%22 y=%2250%25%22 dominant-baseline=%22middle%22 text-anchor=%22middle%22 font-family=%22Arial%22 font-size=%2260%22 fill=%22%23ff69b4%22%3E%E2%9D%A4%EF%B8%8F%3C/text%3E%3Ctext x=%2250%25%22 y=%2265%25%22 dominant-baseline=%22middle%22 text-anchor=%22middle%22 font-family=%22Arial%22 font-size=%2220%22 fill=%22%23ff1493%22%3EAdd assets/main-image.jpg%3C/text%3E%3C/svg%3E'">
    </div>

    <div class="message" id="message"></div>

    <div class="buttons-container" id="buttonsContainer">
        <button class="btn btn-yes" id="yesBtn">Yes! ğŸ’–</button>
        <button class="btn btn-no" id="noBtn">No</button>
    </div>
</div>

<div class="celebration-overlay" id="celebrationOverlay">
    <div class="celebration-message" id="celebrationMessage">Yay! ğŸ’•âœ¨</div>
    <div class="photo-container">
        <img id="celebrationPhoto"
             src="assets/final-image.jpg"
             alt="Celebration photo"
             onerror="this.src='data:image/svg+xml,%3Csvg xmlns=%22http://www.w3.org/2000/svg%22 width=%22400%22 height=%22400%22%3E%3Crect fill=%22%23ffe0f0%22 width=%22400%22 height=%22400%22/%3E%3Ctext x=%2250%25%22 y=%2250%25%22 dominant-baseline=%22middle%22 text-anchor=%22middle%22 font-family=%22Arial%22 font-size=%2260%22 fill=%22%23ff1493%22%3E%F0%9F%8E%89%3C/text%3E%3Ctext x=%2250%25%22 y=%2265%25%22 dominant-baseline=%22middle%22 text-anchor=%22middle%22 font-family=%22Arial%22 font-size=%2220%22 fill=%22%23ff1493%22%3EAdd assets/final-image.jpg%3C/text%3E%3C/svg%3E'">
    </div>
</div>

<canvas id="confettiCanvas"></canvas>

<audio id="bgMusic" loop preload="auto">
    <source src="assets/valentine.mp3" type="audio/mpeg" />
</audio>

<script>
    const CONFIG = {
        noMessages: [
            "Î£Î¯Î³Î¿Ï…ÏÎ±; ğŸ¥º",
            "ÎœÎ®Ï€Ï‰Ï‚ Î½Î± Ï„Î¿ Î¾Î±Î½Î±ÏƒÎºÎµÏ†Ï„ÎµÎ¯Ï‚; ğŸ’­",
            "Î Î»Î¹Î¹Î¹Î¹Î¶; ğŸ™",
            "Î Î¬Ï„Î± Yes Î±Î½ ÎµÎ¯ÏƒÎ±Î¹ Î Î‘ÎŸ! âœ¨",
            "Î”ÎµÎ½ Î¸Î± Ï„Î¿ Î¼ÎµÏ„Î±Î½Î¹ÏÏƒÎµÎ¹Ï‚! ğŸ’•",
            "Seriously? ğŸ˜¢",
            "Okay fine... Î±Î»Î»Î¬ ÎºÎ¿Î¯Ï„Î± Ï€ÏŒÏƒÎ¿ Î¼Î¹ÎºÏÏŒ Î­Î³Î¹Î½Îµ! ğŸ”",
            "Î¤ÎµÎ»ÎµÏ…Ï„Î±Î¯Î± Ï€ÏÎ¿ÎµÎ¹Î´Î¿Ï€Î¿Î¯Î·ÏƒÎ·! âš ï¸",
            "Fine... ÎŸÎš Î´ÎµÏ‚ Ï„Î¹ Î¸Î± Î³Î¯Î½ÎµÎ¹ Ï„ÏÏÎ±! ğŸ˜"
        ],
        finalNoMessage: "Î‘Ï†Î¿Ï ÎµÏ€Î¹Î¼Î­Î½ÎµÎ¹Ï‚... Ï„Î¿ ÎºÎ¿Ï…Î¼Ï€Î¯ No Î¸Î± Î³Î¯Î½ÎµÎ¹ YES! ğŸ˜ˆ",
        celebrationMessage: "Yay! Best Valentine Ever! ğŸ’•âœ¨ğŸ‰",

        noButtonShrinkFactor: 0.82,
        noButtonMinScale: 0.25,
        maxNoClicks: 10,

        enableHoverDodge: true,
        hoverDodgeDistance: 80
    };

    let noClickCount = 0;
    let audioEnabled = false;
    let noButtonScale = 1;
    let isNoButtonTrapped = false;

    const yesBtn = document.getElementById('yesBtn');
    const noBtn = document.getElementById('noBtn');
    const message = document.getElementById('message');
    const celebrationOverlay = document.getElementById('celebrationOverlay');
    const celebrationMessage = document.getElementById('celebrationMessage');
    const audioBtn = document.getElementById('audioBtn');
    const audioHint = document.getElementById('audioHint');
    const bgMusic = document.getElementById('bgMusic');
    const buttonsContainer = document.getElementById('buttonsContainer');
    const confettiCanvas = document.getElementById('confettiCanvas');
    const ctx = confettiCanvas.getContext('2d');

    // ---- AUDIO: one-tap start (mobile-friendly) ----
    async function startMusic() {
        if (audioEnabled) return;

        const sourceEl = bgMusic.querySelector('source');
        const src = sourceEl && sourceEl.getAttribute('src');
        if (!src) {
            console.log('No audio source set.');
            return;
        }

        try {
            // Î¦Î¿ÏÏ„ÏÎ½Î¿Ï…Î¼Îµ Î½Ï‰ÏÎ¯Ï‚, ÎºÎ±Î¹ ÎºÎ¬Î½Î¿Ï…Î¼Îµ play ÏƒÎµ gesture-valid event (pointerdown/touchstart).
            bgMusic.load();

            // iOS-friendly: start muted, then unmute
            bgMusic.muted = true;

            // ÎœÎ¹ÎºÏÏŒ "Î´Î¹Ï€Î»ÏŒ attempt" Î¼Î­ÏƒÎ± ÏƒÏ„Î¿ Î™Î”Î™ÎŸ gesture Î³Î¹Î± browsers Ï€Î¿Ï… ÎºÎ¿Î»Î»Î¬Î½Îµ ÏƒÏ„Î¿ Ï€ÏÏÏ„Î¿
            await bgMusic.play();
            bgMusic.muted = false;

            audioEnabled = true;
            audioBtn.textContent = 'ğŸ”Š';
            audioBtn.classList.add('is-on');
            audioHint.classList.add('hidden');
        } catch (e) {
            // ÎºÏÎ±Ï„Î¬Î¼Îµ audioEnabled=false Î³Î¹Î± Î½Î± Î¾Î±Î½Î±Î´Î¿ÎºÎ¹Î¼Î¬ÏƒÎµÎ¹ ÏƒÏ„Î¿ ÎµÏ€ÏŒÎ¼ÎµÎ½Î¿ tap
            audioEnabled = false;
            audioBtn.textContent = 'ğŸµ';
            audioBtn.classList.remove('is-on');
            console.log('Audio play failed:', e);
        }
    }

    // ---- INIT ----
    function init() {
        createFloatingHearts();
        setupCanvas();
        setupEventListeners();
        positionNoButtonInitial();

        // Î¤Î¿ Î Î™ÎŸ ÏƒÎ·Î¼Î±Î½Ï„Î¹ÎºÏŒ: Ï€ÏÏÏ„Î¿Ï‚ â€œtouch/pointerdownâ€ Î¿Ï€Î¿Ï…Î´Î®Ï€Î¿Ï„Îµ -> startMusic
        // (Î±Ï…Ï„ÏŒ Ï€ÏÎ±ÎºÏ„Î¹ÎºÎ¬ ÎµÎ¾Î±Ï†Î±Î½Î¯Î¶ÎµÎ¹ Ï„Î¿ â€œÎ¸Î­Î»ÎµÎ¹ Î´ÎµÏÏ„ÎµÏÎ¿ tapâ€)
        document.addEventListener('pointerdown', startMusic, { once: true });
        document.addEventListener('touchstart', startMusic, { once: true, passive: true });
    }

    function createFloatingHearts() {
        const heartsContainer = document.getElementById('floatingHearts');
        const heartCount = 15;
        for (let i = 0; i < heartCount; i++) {
            const heart = document.createElement('div');
            heart.className = 'heart-bg';
            heart.textContent = 'ğŸ’•';
            heart.style.left = Math.random() * 100 + '%';
            heart.style.animationDelay = Math.random() * 15 + 's';
            heart.style.fontSize = (Math.random() * 20 + 15) + 'px';
            heartsContainer.appendChild(heart);
        }
    }

    function setupEventListeners() {
        yesBtn.addEventListener('click', handleYesClick);
        noBtn.addEventListener('click', handleNoClick);

        // Î“Î¹Î± audio: pointerdown (Ï€Î¹Î¿ Î±Î¾Î¹ÏŒÏ€Î¹ÏƒÏ„Î¿ ÏƒÎµ iOS Î±Ï€ÏŒ click)
        audioBtn.addEventListener('pointerdown', (e) => {
            e.preventDefault();
            startMusic();
        }, { passive: false });

        // Hover dodge desktop
        if (CONFIG.enableHoverDodge) {
            document.addEventListener('mousemove', handleMouseMove);
        }

        // Sparkles on Yes hover (desktop)
        yesBtn.addEventListener('mouseenter', () => createSparkle());
        yesBtn.addEventListener('mousemove', (e) => {
            if (Math.random() < 0.2) createSparkle(e.clientX, e.clientY);
        });
    }

    function createSparkle(x, y) {
        const sparkles = ['âœ¨', 'ğŸ’–', 'ğŸ’•', 'â­'];
        const sparkle = document.createElement('div');
        sparkle.className = 'sparkle';
        sparkle.textContent = sparkles[Math.floor(Math.random() * sparkles.length)];

        if (typeof x === 'number' && typeof y === 'number') {
            sparkle.style.left = (x + (Math.random() - 0.5) * 40) + 'px';
            sparkle.style.top  = (y + (Math.random() - 0.5) * 40) + 'px';
        } else {
            const rect = yesBtn.getBoundingClientRect();
            sparkle.style.left = (rect.left + rect.width / 2 + (Math.random() - 0.5) * rect.width) + 'px';
            sparkle.style.top  = (rect.top + rect.height / 2 + (Math.random() - 0.5) * rect.height) + 'px';
        }

        document.body.appendChild(sparkle);
        setTimeout(() => sparkle.remove(), 1000);
    }

    function handleMouseMove(e) {
        if (isNoButtonTrapped || noClickCount === 0) return;
        const r = noBtn.getBoundingClientRect();
        const cx = r.left + r.width / 2;
        const cy = r.top + r.height / 2;
        const distance = Math.hypot(e.clientX - cx, e.clientY - cy);
        if (distance < CONFIG.hoverDodgeDistance) {
            moveNoButtonAway(e.clientX, e.clientY);
        }
    }

    function handleYesClick() {
        celebrationMessage.textContent = CONFIG.celebrationMessage;
        celebrationOverlay.classList.add('active');
        createConfetti();

        // Î‘Î½ Î³Î¹Î± ÎºÎ¬Ï€Î¿Î¹Î¿ Î»ÏŒÎ³Î¿ Î´ÎµÎ½ Î¾ÎµÎºÎ¯Î½Î·ÏƒÎµ, ÎµÎ´Ï Î¾Î±Î½Î±Ï€ÏÎ¿ÏƒÏ€Î±Î¸ÎµÎ¯
        if (!audioEnabled) startMusic();

        yesBtn.style.animation = 'none';
        setTimeout(() => { yesBtn.style.animation = 'pulse 2s ease-in-out infinite'; }, 10);
    }

    function handleNoClick(e) {
        e?.preventDefault();
        noClickCount++;

        if (noClickCount >= CONFIG.maxNoClicks) {
            trapNoButton();
            return;
        }

        const idx = Math.min(noClickCount - 1, CONFIG.noMessages.length - 1);
        message.textContent = CONFIG.noMessages[idx];
        message.classList.add('shake');
        setTimeout(() => message.classList.remove('shake'), 500);

        noButtonScale = Math.max(noButtonScale * CONFIG.noButtonShrinkFactor, CONFIG.noButtonMinScale);
        moveNoButton();

        const yesScale = 1 + (noClickCount * 0.08);
        yesBtn.style.transform = `scale(${Math.min(yesScale, 1.6)})`;

        yesBtn.style.animation = 'none';
        setTimeout(() => { yesBtn.style.animation = 'pulse 2s ease-in-out infinite'; }, 10);
    }

    function trapNoButton() {
        isNoButtonTrapped = true;

        message.textContent = CONFIG.finalNoMessage;
        message.style.color = '#ff1493';
        message.style.fontSize = '24px';
        message.style.fontWeight = 'bold';
        message.classList.add('shake');

        setTimeout(() => {
            noBtn.textContent = 'Yes! ğŸ’•';
            noBtn.style.background = 'linear-gradient(135deg, #ff69b4, #ff1493)';
            noBtn.style.color = 'white';
            noBtn.style.border = 'none';
            noBtn.style.transform = 'translate(-50%, -50%) scale(1.2)';
            noBtn.style.animation = 'pulse 1s ease-in-out infinite';

            noBtn.removeEventListener('click', handleNoClick);
            noBtn.addEventListener('click', handleYesClick);
        }, 1500);
    }

    function positionNoButtonInitial() {
        noBtn.style.position = 'relative';
        noBtn.style.left = 'auto';
        noBtn.style.top = 'auto';
        noBtn.style.transform = 'none';
    }

    function moveNoButton() {
        if (noClickCount === 1) {
            noBtn.style.position = 'absolute';
        }

        const container = buttonsContainer.getBoundingClientRect();
        const yesRect = yesBtn.getBoundingClientRect();

        let x, y, attempts = 0;
        const maxAttempts = 50;
        const minDistance = 130;

        do {
            x = Math.random() * (container.width - 120) + 60;
            y = Math.random() * (container.height - 120) + 60;

            const yesCX = (yesRect.left - container.left) + yesRect.width / 2;
            const yesCY = (yesRect.top  - container.top ) + yesRect.height / 2;

            const d = Math.hypot(x - yesCX, y - yesCY);
            if (d > minDistance) break;
            attempts++;
        } while (attempts < maxAttempts);

        noBtn.style.left = x + 'px';
        noBtn.style.top  = y + 'px';
        noBtn.style.transform = `translate(-50%, -50%) scale(${noButtonScale})`;
    }

    function moveNoButtonAway(mouseX, mouseY) {
        const container = buttonsContainer.getBoundingClientRect();
        const r = noBtn.getBoundingClientRect();
        const cx = r.left + r.width / 2;
        const cy = r.top + r.height / 2;

        const angle = Math.atan2(cy - mouseY, cx - mouseX);
        const moveDistance = 160;

        let newX = (r.left - container.left) + Math.cos(angle) * moveDistance;
        let newY = (r.top  - container.top ) + Math.sin(angle) * moveDistance;

        newX = Math.max(60, Math.min(container.width  - 60, newX));
        newY = Math.max(60, Math.min(container.height - 60, newY));

        noBtn.style.left = newX + 'px';
        noBtn.style.top  = newY + 'px';
        noBtn.style.transition = 'left 0.25s ease, top 0.25s ease';
    }

    function setupCanvas() {
        confettiCanvas.width = window.innerWidth;
        confettiCanvas.height = window.innerHeight;

        window.addEventListener('resize', () => {
            confettiCanvas.width = window.innerWidth;
            confettiCanvas.height = window.innerHeight;
        });
    }

    function createConfetti() {
        const shapes = ['â¤ï¸','ğŸ’•','ğŸ’–','ğŸ’—','ğŸ’','âœ¨','ğŸ‰'];
        const particles = [];
        const particleCount = 160;

        for (let i = 0; i < particleCount; i++) {
            particles.push({
                x: Math.random() * confettiCanvas.width,
                y: -20 - Math.random() * 100,
                size: Math.random() * 26 + 16,
                speedY: Math.random() * 3 + 2,
                speedX: Math.random() * 6 - 3,
                rotation: Math.random() * 360,
                rotationSpeed: Math.random() * 15 - 7.5,
                shape: shapes[Math.floor(Math.random() * shapes.length)],
                opacity: 1
            });
        }

        function animate() {
            ctx.clearRect(0, 0, confettiCanvas.width, confettiCanvas.height);
            let active = 0;

            for (const p of particles) {
                if (p.y < confettiCanvas.height + 60 && p.opacity > 0) {
                    active++;

                    p.y += p.speedY;
                    p.x += p.speedX;
                    p.rotation += p.rotationSpeed;

                    if (p.y > confettiCanvas.height - 180) p.opacity -= 0.02;

                    ctx.save();
                    ctx.translate(p.x, p.y);
                    ctx.rotate(p.rotation * Math.PI / 180);
                    ctx.globalAlpha = Math.max(0, p.opacity);
                    ctx.font = `${p.size}px Arial`;
                    ctx.textAlign = 'center';
                    ctx.textBaseline = 'middle';
                    ctx.fillText(p.shape, 0, 0);
                    ctx.restore();
                }
            }

            if (active > 0) requestAnimationFrame(animate);
            else ctx.clearRect(0, 0, confettiCanvas.width, confettiCanvas.height);
        }

        animate();
    }

    init();
</script>
</body>
</html>
